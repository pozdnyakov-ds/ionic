System.register(["./index-legacy-419c94b5.js"],(function(e,a){"use strict";var l,n,t,o,i,r,d,s,p,u,c,v,y,g,m,x,f,h,b,k,w,_,T,C,N,D,M,I,j,z;return{setters:[e=>{l=e.u,n=e.r,t=e.a,o=e.o,i=e.b,r=e.c,d=e.w,s=e.d,p=e.e,u=e.f,c=e.I,v=e.g,y=e.h,g=e.i,m=e.j,x=e.k,f=e.l,h=e.m,b=e.n,k=e.p,w=e.q,_=e.s,T=e.t,C=e.v,N=e.x,D=e.y,M=e.z,I=e.A,j=e.B,z=e.C}],execute:function(){var a=document.createElement("style");a.textContent="#container[data-v-190bd36a]{text-align:center;position:relative;background-color:green}#container strong[data-v-190bd36a]{font-size:20px;line-height:26px}#container p[data-v-190bd36a]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container a[data-v-190bd36a]{text-decoration:none}.content[data-v-190bd36a]{position:absolute;top:0;left:0;width:100%;height:100vh;padding-top:0;color:#fff;background-color:#000}.logo[data-v-190bd36a]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100vh;padding-top:0;color:#fff;background-color:#000}.logo-no-code[data-v-190bd36a]{border:0px dashed #999;border-radius:20px;padding:20px}.panel[data-v-190bd36a]{width:100%;display:flex;justify-content:end;padding:20px 20px 0 0;z-index:99999}ion-button[data-v-190bd36a]{margin-right:20px;margin-bottom:30px;--border-radius: 100px;--border-color: #fff;--border-style: solid;--border-width: 5px;--padding-start: 15px;--padding-end: 15px;--padding-top: 15px;--padding-bottom: 15px;--box-shadow: 0 2px 6px 0 rgb(0, 0, 0, .25)}ion-modal[data-v-190bd36a]{--border-radius: 20px}ion-toolbar[data-v-190bd36a]{--background: #428CFF}ion-content[data-v-190bd36a]{--background: #333}ion-item[data-v-190bd36a]{--background: #666;--border-radius: 50px;--color: #fff}ion-title[data-v-190bd36a]{--color: #fff}.params[data-v-190bd36a]{margin:20px}.params-item[data-v-190bd36a]{margin-bottom:10px;color:#fff;width:30%;padding:10px;vertical-align:top}.readyData[data-v-190bd36a]{color:#8eb2cf;padding:10px;vertical-align:top}\n",document.head.appendChild(a);const R=(e,a)=>{const l=e.__vccOpts||e;for(const[n,t]of a)l[n]=t;return l},A=e=>(j("data-v-190bd36a"),e=e(),z(),e),L={class:"content"},$=["src"],G={key:0,class:"logo"},B=A((()=>u("div",{style:{"font-size":"32pt","margin-bottom":"10px"}},"Display24",-1))),S=A((()=>u("div",{class:"logo-no-code"},[u("div",{style:{"font-size":"14pt",color:"#fff"}},"Необходимо установить параметры дисплея")],-1))),H={key:1,class:"panel"},V=A((()=>u("br",null,null,-1))),E={style:{"font-size":"80%"}},O=A((()=>u("br",null,null,-1))),q={style:{width:"100%",display:"flex","align-items":"center","justify-content":"space-between"}},F=A((()=>u("div",{style:{color:"#fff"}},[u("b",null,"Проверить код дисплея: ")],-1))),J={class:"params"},Y={width:"100%"},K=A((()=>u("td",{class:"params-item"},"Партнер:",-1))),P={class:"readyData"},Q=A((()=>u("td",{class:"params-item"},"Код дисплея:",-1))),U={class:"readyData"},W=A((()=>u("td",{class:"params-item"},"Наименование дисплея:",-1))),X={class:"readyData"},Z=A((()=>u("td",{class:"params-item"},"Описание дисплея:",-1))),ee={class:"readyData"},ae=A((()=>u("td",{class:"params-item"},"Группа дисплея:",-1))),le={class:"readyData"},ne=A((()=>u("td",{class:"params-item"},"Макет:",-1))),te={class:"readyData"};e("default",R({__name:"Home",setup(e){l();const a=n(0),j=n("production");var z=t({partnerId:null,partnerName:null,partnerLogo:null,displayCode:null,displayCodeInput:null,displayName:null,displayDescription:null,displayGroup:null,displayToken:null,layoutName:null,osVersion:null,dataReady:!1});const R=n(""),A=n(""),oe=n(""),ie=n(""),re=n(""),de=n(""),se=n(""),pe=n(""),ue=n(!1),ce=n(!1),ve=n(""),ye=()=>{a.value++},ge=()=>{ue.value=!0,setTimeout((()=>{const e=localStorage.getItem("settings",null);z=e?JSON.parse(localStorage.getItem("settings"),null):{},oe.value.innerText=z.displayCode?z.displayCode:"-",ie.value.innerText=z.partnerName?z.partnerName:"-",re.value.innerText=z.displayName?z.displayName:"-",de.value.innerText=z.displayDescription?z.displayDescription:"-",se.value.innerText=z.displayGroup?z.displayGroup:"-",pe.value.innerText=z.layoutName?z.layoutName:"-"}),1e3)},me=e=>{ie.value.innerText="-",re.value.innerText="-",de.value.innerText="-",se.value.innerText="-",pe.value.innerText="-",A.value.$el.style.borderRadius="50px",A.value.$el.style.border="3px solid orange",ve.value.innerText="Ошибка: "+e},xe=e=>{z.displayCodeInput=e.target.value,R.value.innerText=e.target.value},fe=e=>{e.clientY<=100?(ce.value=!0,setTimeout((()=>{z.displayCode||(ce.value=!1)}),1e4)):ce.value=!1},he=async e=>{if(A.value.$el.style.border="0px solid transparent",ve.value.innerText="",!e||e&&e.length<10)return A.value.$el.style.borderRadius="50px",A.value.$el.style.border="3px solid orange",void(ve.value.innerText="Указать код дисплея (10 символов)");var a=null;z.dataReady=!1;try{const l=await fetch("https://device.display24.ru/api/v1/device/"+e,{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error("Request failed");a=await l.json(),console.log("Data: ",a)}catch(l){return me(l),void(z.dataReady=!1)}if(a&&a.data&&0==a.data.length)me("Код не существует");else if(a&&a.code&&200==a.code&&a.data.length>0){const e=a.data[0];z.partnerId=e.partner_id,z.partnerName=e.partner_name,z.partnerLogo=e.partner_logo&&e.partner_logo.filename?e.partner_logo.filename:null,z.displayCode=e.display_code,z.displayName=e.display_name,z.displayDescription=e.display_description,z.displayGroup=e.display_group_name,z.displayToken=e.display_token,z.layoutName=e.layout_name,ie.value.innerText=z.partnerName,oe.value.innerText=z.displayCode,re.value.innerText=z.displayName,de.value.innerText=z.displayDescription,se.value.innerText=z.displayGroup,pe.value.innerText=z.layoutName,z.dataReady=!0,A.value.$el.style.borderRadius="50px",A.value.$el.style.border="3px solid green"}else me("Ошибка чтения настроек")};return o((()=>{z.displayCode||(ce.value=!0)})),(e,l)=>(i(),r(s(I),null,{default:d((()=>[p(s(c),{fullscreen:!0,onClick:l[4]||(l[4]=e=>M(z)?z.value=!s(z):z=!s(z))},{default:d((()=>[u("div",{id:"container",onMouseover:fe},[u("div",L,[p(s(c),null,{default:d((()=>[s(z).dataReady?(i(),v("iframe",{src:"https://display24.ru/device?code="+s(z).displayCode,style:{width:"100%",height:"100%"},scrolling:"yes",key:a.value},"\n            ",8,$)):y("",!0)])),_:1})]),s(z).dataReady?y("",!0):(i(),v("div",G,[p(s(g),{src:z.partnerLogo&&z.partnerLogo.length?"https://storage.yandexcloud.net/d24/partners/"+z.partnerId+"/"+z.partnerLogo:"img/logo_512.png",alt:s(z).partnerName,style:{width:"250px","margin-bottom":"30px"}},null,8,["src","alt"]),B,S])),ce.value||!s(z).dataReady?(i(),v("div",H,[p(s(m),{onClick:x(ye,["prevent"]),shape:"round",fill:"solid",color:"primary"},{default:d((()=>[p(s(f),{slot:"icon-only",icon:s("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 148l-21.12-24.57A191.43 191.43 0 00240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 00181.07-128' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M464 97.42V208a16 16 0 01-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z'/></svg>")},null,8,["icon"])])),_:1},8,["onClick"]),p(s(m),{onClick:x(ge,["prevent"]),shape:"round",fill:"solid",color:"primary"},{default:d((()=>[p(s(f),{slot:"icon-only",icon:s("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>")},null,8,["icon"])])),_:1},8,["onClick"])])):y("",!0),p(s(h),{"is-open":ue.value},{default:d((()=>[p(s(b),null,{default:d((()=>[p(s(k),null,{default:d((()=>[p(s(w),null,{default:d((()=>[_("Настройки приложения"),V,_(),u("span",E,"Режим: ["+T(j.value)+"]",1)])),_:1}),O,p(s(C),{slot:"end"},{default:d((()=>[p(s(m),{onClick:l[0]||(l[0]=x((e=>(localStorage.removeItem("settings"),z.partnerId=null,z.partnerName=null,z.partnerLogo=null,z.displayCode=null,z.displayCodeInput=null,z.displayName=null,z.displayDescription=null,z.displayGroup=null,z.displayToken=null,z.layoutName=null,z.dataReady=!1,ie.value.innerText="-",oe.value.innerText="-",re.value.innerText="-",de.value.innerText="-",se.value.innerText="-",pe.value.innerText="-",void(ve.value.innerText=""))),["prevent"])),shape:"round",fill:"solid",color:"primary",style:{margin:"20px 10px 20px 20px"}},{default:d((()=>[p(s(f),{slot:"icon-only",icon:s("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),style:{margin:"15px 0 15px 0"}},null,8,["icon"])])),_:1}),p(s(m),{onClick:l[1]||(l[1]=x((e=>(z.dataReady&&localStorage.setItem("settings",JSON.stringify(z)),void(ue.value=!1))),["prevent"])),shape:"round",fill:"solid",color:"primary",style:{margin:"20px 10px 20px 10px"}},{default:d((()=>[p(s(f),{slot:"icon-only",icon:s("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M380.93 57.37A32 32 0 00358.3 48H94.22A46.21 46.21 0 0048 94.22v323.56A46.21 46.21 0 0094.22 464h323.56A46.36 46.36 0 00464 417.78V153.7a32 32 0 00-9.37-22.63zM256 416a64 64 0 1164-64 63.92 63.92 0 01-64 64zm48-224H112a16 16 0 01-16-16v-64a16 16 0 0116-16h192a16 16 0 0116 16v64a16 16 0 01-16 16z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),style:{margin:"15px 0 15px 0"}},null,8,["icon"])])),_:1}),p(s(m),{onClick:l[2]||(l[2]=x((e=>{ue.value=!1}),["prevent"])),shape:"round",fill:"solid",color:"primary",style:{margin:"20px 20px 20px 10px"}},{default:d((()=>[p(s(f),{slot:"icon-only",icon:s("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M368 368L144 144M368 144L144 368' class='ionicon-fill-none ionicon-stroke-width'/></svg>"),style:{margin:"15px 0 15px 0"}},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),p(s(c),{class:"ion-padding"},{default:d((()=>[u("div",q,[F,p(s(N),{ref_key:"displayCodeBorder",ref:A},{default:d((()=>[p(s(D),{ref_key:"displayCodeInput",ref:R,value:s(z).displayCode,onInput:xe,placeholder:""},null,8,["value"])])),_:1},512),p(s(m),{onClick:l[3]||(l[3]=x((e=>(()=>{const e=R.value&&R.value.$el&&R.value.$el.value?R.value.$el.value:"";he(e)})()),["prevent"])),shape:"round",fill:"solid",color:"primary",style:{margin:"0px"}},{default:d((()=>[p(s(f),{slot:"icon-only",icon:s("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>")},null,8,["icon"])])),_:1})]),u("div",J,[u("table",Y,[u("tr",null,[K,u("td",P,[u("span",{ref_key:"partnerName",ref:ie},T(s(z).partnerName),513)])]),u("tr",null,[Q,u("td",U,[u("span",{ref_key:"displayCode",ref:oe},T(s(z).displayCode),513)])]),u("tr",null,[W,u("td",X,[u("span",{ref_key:"displayName",ref:re},T(s(z).displayName),513)])]),u("tr",null,[Z,u("td",ee,[u("span",{ref_key:"displayDescription",ref:de},T(s(z).displayDescription),513)])]),u("tr",null,[ae,u("td",le,[u("span",{ref_key:"displayGroup",ref:se},T(s(z).displayGroup),513)])]),u("tr",null,[ne,u("td",te,[u("span",{ref_key:"layoutName",ref:pe},T(s(z).layoutName),513)])])])]),u("div",{ref_key:"error",ref:ve,style:{color:"orange",width:"100%","text-align":"center","margin-top":"20px"}},null,512)])),_:1})])),_:1},8,["is-open"])],32)])),_:1})])),_:1}))}},[["__scopeId","data-v-190bd36a"]]))}}}));
